import{r as y,j as t}from"./index-DfiQLuag.js";import{t as d,p as g,f,e as p}from"./es-BTmWveCu.js";function b(n,r){const s=d(n,r?.in),i=s.getMonth();return s.setFullYear(s.getFullYear(),i+1,0),s.setHours(23,59,59,999),s}function v(n,r){const s=d(n,r?.in);return s.setDate(1),s.setHours(0,0,0,0),s}function w(n,r,s){const i=+d(n,s?.in),[m,l]=[+d(r.start,s?.in),+d(r.end,s?.in)].sort((x,o)=>x-o);return i>=m&&i<=l}const M=({events:n})=>{const r=new Date,s=v(r),i=b(r),m=n?.length||0,l=n?.filter(e=>{try{const a=g(e.date);return w(a,{start:s,end:i})}catch{return!1}})||[],x=l.reduce((e,a)=>{const c=a.category||"other";return e[c]=(e[c]||0)+1,e},{}),o=l.reduce((e,a)=>{const c=a.priority||"medium";return e[c]=(e[c]||0)+1,e},{}),h=n?.filter(e=>{try{return g(`${e.date}T${e.time||"00:00"}`)>r}catch{return!1}}).slice(0,5)||[],j=e=>({work:"Trabajo",personal:"Personal",meeting:"Reunión",appointment:"Cita",reminder:"Recordatorio",other:"Otro"})[e]||"Otro",u=e=>({high:"Alta",medium:"Media",low:"Baja"})[e]||"Media",N=e=>{switch(e){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"card text-center",children:[t.jsx("div",{className:"text-4xl mb-2",children:"📅"}),t.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:m}),t.jsx("p",{className:"text-gray-600",children:"Total de eventos"})]}),t.jsxs("div",{className:"card text-center",children:[t.jsx("div",{className:"text-4xl mb-2",children:"📊"}),t.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:l.length}),t.jsx("p",{className:"text-gray-600",children:"Este mes"})]}),t.jsxs("div",{className:"card text-center",children:[t.jsx("div",{className:"text-4xl mb-2",children:"⏰"}),t.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:h.length}),t.jsx("p",{className:"text-gray-600",children:"Próximos eventos"})]})]}),t.jsxs("div",{className:"card",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Eventos por Categoría"}),t.jsx("div",{className:"space-y-3",children:Object.entries(x).map(([e,a])=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"text-2xl",children:e==="work"?"💼":e==="personal"?"👤":e==="meeting"?"🤝":e==="appointment"?"📅":e==="reminder"?"🔔":"📝"}),t.jsx("span",{className:"font-medium text-gray-700",children:j(e)})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${a/l.length*100}%`}})}),t.jsx("span",{className:"text-sm font-semibold text-gray-600 w-8 text-right",children:a})]})]},e))})]}),t.jsxs("div",{className:"card",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Eventos por Prioridad"}),t.jsx("div",{className:"space-y-3",children:Object.entries(o).map(([e,a])=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:`text-2xl ${N(e)}`,children:e==="high"?"🔴":e==="medium"?"🟡":"🟢"}),t.jsx("span",{className:"font-medium text-gray-700",children:u(e)})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${e==="high"?"bg-red-500":e==="medium"?"bg-yellow-500":"bg-green-500"}`,style:{width:`${a/l.length*100}%`}})}),t.jsx("span",{className:"text-sm font-semibold text-gray-600 w-8 text-right",children:a})]})]},e))})]}),h.length>0&&t.jsxs("div",{className:"card",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Próximos Eventos"}),t.jsx("div",{className:"space-y-3",children:h.map(e=>t.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[t.jsx("span",{className:"text-2xl",children:e.category==="work"?"💼":e.category==="personal"?"👤":e.category==="meeting"?"🤝":e.category==="appointment"?"📅":e.category==="reminder"?"🔔":"📝"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),t.jsx("p",{className:"text-sm text-gray-600",children:f(g(`${e.date}T${e.time||"00:00"}`),"dd MMM yyyy, HH:mm",{locale:p})})]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.priority==="high"?"bg-red-100 text-red-800":e.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:u(e.priority)})]},e.id))})]})]})},O=y.memo(M);export{O as default};
